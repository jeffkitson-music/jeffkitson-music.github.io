<!DOCTYPE html>
<html>
<head>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
<style>
body {
    font-family: 'Roboto';font-size: 22px;
}
input[type=text] {
  width: 66%;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
  font-size: 24px; 
  font-family: 'Roboto';
}
.button {
  background-color: #555555; 
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  font-family: 'Roboto';
}
</style>
</head>
<body>
<center>
<h1>ðŸŽ¸ Sheet Rock ðŸŽ¸</h1>
<h2>Spotify Authenication</h2>
<p id="instructions">Click the button to copy the text</p>
<input type="text" value="" id="myInput"><br><br>

<input type="button" class="button" value="Copy Text" onclick="myFunction()">
</center>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const urlSearchParams = new URLSearchParams(window.location.search);
    const params = Object.fromEntries(urlSearchParams.entries());
    //console.log(params);
   
    // Set Textbox 
    var code = params.code
    document.getElementById("myInput").value = location.host + location.pathname +code;
});
  
  function myFunction() {
  /* Get the text field */
  var copyText = document.getElementById("myInput");

  /* Select the text field */
  copyText.select();
  copyText.setSelectionRange(0, 99999); /* For mobile devices */

  /* Copy the text inside the text field */
  navigator.clipboard.writeText(copyText.value);
  
  /* Alert the copied text */
  document.getElementById("instructions").innerHTML = "Text copied!";
  //alert("Copied the text: " + copyText.value);
}
</script>

</body>
</html>

